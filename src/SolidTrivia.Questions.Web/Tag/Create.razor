@page "/tag/create"
@inject TagCreateViewModel viewModel
@inject NavigationManager NavigationManager

<h1>Create New Tag</h1>
<div class="form-inline">
    <div class="form-group mb-2">
        <input @attributes="InputAttributes" type="text" class="@ViewModel.InputClasses" placeholder="Tag" @bind="ViewModel.TagName" tabindex="0" />
        <button class="btn btn-primary" disabled="@(!ViewModel.CreateCommand.CanExecute(null))" @onclick="@CreateTag" tabindex="1">Create</button>
    </div>
</div>

@code {
    protected TagCreateViewModel ViewModel { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        ViewModel = viewModel;

    }

    protected void CreateTag()
    {
        ViewModel.CreateCommand.Execute(null);
        NavigationManager.NavigateTo($"tag/list");
    }

    [Parameter]
    public Dictionary<string, object> InputAttributes { get; set; } = new Dictionary<string, object>() {
                { "tabindex", "0" },
                { "placeholder", "Tag" }
            };
}